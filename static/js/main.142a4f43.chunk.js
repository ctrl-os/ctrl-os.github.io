(this["webpackJsonpgenshin-sheet"]=this["webpackJsonpgenshin-sheet"]||[]).push([[0],{20:function(e,t,a){},21:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),l=a(11),i=a.n(l),o=(a(28),a(29),a(30),{phys:"Phys. DMG (%)",ele:"Elemental DMG (%)",em:"Elemental Mastery",cr:"Crit Rate (%)",cd:"Crit DMG (%)",er:"Energy Recharge (%)",ATK:"ATK",ART_ATK:"+ATK",ART_HP:"+HP",ART_DEF:"+DEF",HP:"HP",DEF:"DEF",PATK:"%ATK",PDEF:"%DEF",PHP:"%HP",healb:"Healing Bonus (%)",Normal:"Normal Attack (%)",Charge:"Charge Attack (%)",Skill:"Ele. Skill DMG (%)",Burst:"Ele. Burst D.MG (%)",Total:"Total DMG (%)",ATKSPD:"Attack Speed (%)",CDR:"Cool Down (%)",MVSPD:"Movement Speed (%)",LVL:"LVL",Swirl:"Swirl DMG (%)",Overload:"Overload DMG (%)",Eletrocharge:"Eletrocharge DMG (%)",Superconduct:"Superconduct DMG (%)",Shattered:"Shattered DMG (%)",Melt:"Melt DMG (%)",Vaporize:"Vaporize DMG (%)",Crystalize:"Crystalize DMG (%)",None:"None"}),s=o.er,u=[o.cr,o.cd,o.er,o.em,o.PATK,o.PDEF,o.PHP],d=[o.em,o.PATK,o.PHP,o.PDEF],j=[o.ART_HP],b=[o.ART_ATK],f=[o.er].concat(d),h=[o.ele,o.phys].concat(d),O=[o.cr,o.cd,o.healb].concat(d),p=[o.None,o.phys].concat(u),m=[o.None].concat(u),x=[o.LVL,o.HP,o.ATK,o.DEF],v=[o.None,o.ele,o.phys,o.Skill,o.Burst,o.Normal,o.Charge,o.Total,o.MVSPD,o.ATKSPD].concat(u),y=[o.Swirl,o.Overload,o.Eletrocharge,o.Superconduct,o.Melt,o.Vaporize],g=[].concat(v).concat(y),_=[o.None,o.ART_HP,o.ART_ATK,o.ART_DEF].concat(u),T=Array.from(new Set(["None"].concat(_).concat(v))),N=(a(20),a(3)),S=a(6),w=function(e){var t=function(e){return(a(e)||0)*(1+a("%"+e)/100)+(a("+"+e)||0)},a=function(t){return e[t]||0};return e.totalHP=t(o.HP),e.totalATK=t(o.ATK),e.totalDEF=t(o.DEF),e.totalCrit=Math.min(100,5+a(o.cr)),e.totalEM=a(o.em),e.totalCritDMG=50+a(o.cd),e.totalATKSPD=100+a(o.ATKSPD),e.totalRecharge=100+a(o.er),e},V=Object(S.b)({name:"stats",initialState:{},reducers:{calcDelta:function(e,t){var a=t.payload,n=a.oldType,c=a.oldValue,r=a.newType,l=a.newValue;n&&(e[n]=(e[n]||0)-(c||0)),e[r]=(e[r]||0)+(l||0);var i=w(e);for(var o in i)e[o]=i[o]},calcStats:function(e,t){var a=function(e){var t=function(e,t){return e?e+(t||0):t||0},a={},n={LVL:e.LVL,HP:e.HP,DEF:e.DEF,ATK:e.ATK},c=e.ascensionStatType,r=e.ascensionStatValue;for(var l in n)a[l]=t(a[l],n[l]);a[c]=t(a[c],r),Array(6).fill(0).forEach((function(n,c){for(var r="artifactTypes-".concat(c),l="artifactValues-".concat(c),i=e[r],o=e[l],s=0;i&&s<i.length;s++)a[i[s]]=t(a[i[s]],o[s])})),a[e.weaponSubstatType]=t(a[e.weaponSubstatType],e.weaponSubstatValue);for(var i=e.weaponPassivesType,o=e.weaponPassivesValue,s=0;i&&s<i.length;s++)a[i[s]]=t(a[i[s]],o[s]);var u=e.BuffType,d=e.BuffValue,j=e.BuffToggle;for(s=0;u&&s<u.length;s++)j[s]&&(a[u[s]]=t(a[u[s]],d[s]));return w(a)}(t.payload);for(var n in a)e[n]=a[n]}}}),A=V.actions,D=A.calcDelta,M=A.calcStats,C=function(e){return e.stats},E=V.reducer,P=function(){var e=Object(N.c)(C),t=e.totalHP,a=void 0===t?0:t,c=e.totalATK,r=void 0===c?0:c,l=e.totalDEF,i=void 0===l?0:l,s=e.totalCrit,u=void 0===s?0:s,d=e.totalCritDMG,j=void 0===d?0:d,b=e.totalATKSPD,f=void 0===b?0:b,h=e.totalRecharge,O=void 0===h?0:h,p=e.totalEM,m=void 0===p?0:p,x=function(t){return e[t]||0},v=r/(x(o.ATK)||1),y=u/100*(1/(u/100)-1+(1+j/100)),g=function(){for(var e=0,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var c in a)e+=x(a[c]);return e},_={"P. Normal":100+g(o.Normal,o.Total,o.phys),"P. Charge":100+g(o.Charge,o.Total,o.phys),"E. Normal":100+g(o.Normal,o.Total,o.ele),"E. Charge":100+g(o.Charge,o.Total,o.ele),"E. Skill":100+g(o.Skill,o.Total,o.phys),"E. Burst":100+g(o.Burst,o.Total,o.phys)},T={"Total HP":Math.floor(a),"Total ATK":Math.floor(r),"Total DEF":Math.floor(i),"Elemental Mastery":m,"Critical Rate":"".concat(u.toFixed(2),"%"),"Critical Damage":"".concat(j.toFixed(2),"%"),"Attack Speed":"".concat(f.toFixed(2),"% "),"Energy Recharge":"".concat(O.toFixed(2),"% "),"":null,Multipliers:null,"ATK Multiplier":"".concat(v.toFixed(3),"x"),"CRIT Multiplier":"".concat(y.toFixed(3),"x")};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("table",{className:"table__table",children:Object(n.jsxs)("tbody",{children:[Object.keys(T).map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"table__td",children:e}),Object(n.jsx)("td",{className:"table__td",children:T[e]})]},t)})),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{className:"table__th",children:"Attack Type"}),Object(n.jsx)("th",{className:"table__th",children:"Multiplier"})]}),Object.keys(_).map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"table__td",children:e}),Object(n.jsxs)("td",{className:"table__td",children:[_[e]/100,"x"]})]},e)}))]})})})},F=a(2),B=function(e){return Object(n.jsx)("button",Object(F.a)({tabIndex:-1},e))},R=a(5),k=a(8),L=(a(37),a(38),function(e){var t=e.onChange,a=e.array,c=e.component,r=e.defaultValue;return Object(n.jsxs)("span",{children:[Object(n.jsxs)("select",{className:e.className||"element__selectField--default",tabIndex:-1,defaultValue:r,onChange:function(e){return t(e.target.value,!0)},children:[a.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)})),Object(n.jsx)("option",{hidden:!0,children:s})]}),c]})}),I=function(e,t){return void 0===e||null===e||0===e.localeCompare("None")?Object(n.jsx)(c.Fragment,{}):t},K=(a(39),function(e){return Object(n.jsx)("input",{className:e.className||"item__fillWidth",type:"number",defaultValue:void 0===e.defaultValue?"":e.defaultValue,onBlur:function(t){var a=parseFloat(t.target.value);e.minValue&&(a=Math.max(a,e.minValue)),e.maxValue&&(a=Math.min(a,e.maxValue)),t.target.value=a,e.onChange(isNaN(a)?null:a)}},e.defaultValue)}),H=function(e){return Object(n.jsxs)(n.Fragment,{children:[e.name," ",Object(n.jsx)(K,Object(F.a)({},e))]})},G=function(){var e={};return Array(5).fill(0).forEach((function(t,a){e["artifactTypes-".concat(a)]=Array(5).fill(null),e["artifactValues-".concat(a)]=Array(5).fill(0)})),e["artifactTypes-0"][0]=o.ART_HP,e["artifactTypes-1"][0]=o.ART_ATK,e["artifactTypes-2"][0]=o.er,e["artifactTypes-3"][0]=o.ele,e["artifactTypes-4"][0]=o.cr,e["artifactTypes-5"]=[],e["artifactValues-5"]=[],e}(),U=Object(F.a)(Object(F.a)(Object(F.a)(Object(F.a)(Object(F.a)({},{weaponSubstatType:"None",weaponPassivesType:[],weaponPassivesValue:[]}),{TalentName:[],DamageType:[],ReactionMultipliers:[],DamageValue:[],monsterLevelStr:0,monsterResStr:0,resReduction:0,defReduction:0}),{ascensionStatType:"None",ascensionStatValue:0,HP:"",LVL:"",ATK:"",DEF:""}),G),{BuffName:[],BuffType:[],BuffValue:[],BuffToggle:[]}),J="WeaponField",W=[J,"ArtifactField","CharacterField","DamageField"],z=["None","Phys. Normal","Phys. Charge","Ele. Normal","Ele. Charge","Ele. Skill","Ele. Burst"],Y=["Swirl","Overload","Electrocharge","Superconduct","Shattered"],$=function(e,t){void 0!==e&&localStorage.setItem(e,t)},q=function(e){var t=localStorage.getItem(e);try{var a=t?JSON.parse(t):{},n={currentSheet:e};return a.WeaponField?W.forEach((function(e){var t="undefined"!==a[e]?JSON.parse(a[e]):{};n=a[e]?Object(F.a)(Object(F.a)({},n),t):{}})):n=Object(F.a)({},a),n}catch(c){console.log(c)}},Q=Object(F.a)(Object(F.a)({},U),{},{currentSheet:"null",view:""}),X=Object(S.b)({name:"sheet",initialState:Object(F.a)(Object(F.a)({},Q),q("CharacterSheet1")),reducers:{updateSheet:function(e,t){for(var a in t.payload)e[a]=t.payload[a]},loadSheet:function(e,t){var a=Object(F.a)(Object(F.a)({},Q),t.payload);for(var n in a)e[n]=a[n]}}}),Z=X.actions,ee=Z.updateSheet,te=Z.loadSheet,ae=function(e){return e.sheet},ne=X.reducer,ce=a(7),re=function(e){return function(t,a,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return function(l){var i={oldType:t,oldValue:a};Array.isArray(l)?(i.newType=t,i.newValue=l[c]):(i.newType=t,i.newValue=l),!Array.isArray(t)&&r&&e(D(i)),ie(e)(n)(l)}}},le=function(e){return function(t,a,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return function(l){var i={oldType:t,oldValue:a};Array.isArray(l)?(i.newType=l[c],i.newValue=a):(i.newType=l,i.newValue=a),!Array.isArray(t)&&r&&e(D(i)),ie(e)(n)(l)}}},ie=function(e){return function(t){return function(a){e(ee(Object(R.a)({},t,a)))}}},oe=function(e){return function(t,a,n){return function(t){e(ee(Object(R.a)({},n,t)))}}},se=function(e,t,a){return function(n,c,r){return function(l){var i=Object(ce.a)(a[n]);i[c]=l,t.apply(void 0,Object(ce.a)(e.map((function(e){return a[e][c]}))).concat([n,c,r]))(i)}}},ue=function(e,t,a){return function(n){return function(c){t.apply(void 0,Object(ce.a)(e.map((function(e){return a[e]}))).concat([n]))(c)}}},de=a(13),je=a(15),be=a(14),fe=(a(40),function(e,t){return function(){var a=function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,c=t(a);c(e[a].concat(n))};t.forEach((function(e){a.apply(void 0,Object(ce.a)(e))}))}}),he=function(e,t){return function(a){var n=function(t,n,c){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return function(){}},l=t(n),i=Object(ce.a)(e[n]);i.splice(a,1),r(n,a)(0),l(i)};t.forEach((function(e){n.apply(void 0,Object(ce.a)(e))}))}},Oe=function(e){Object(je.a)(a,e);var t=Object(be.a)(a);function a(e){var c;Object(de.a)(this,a),(c=t.call(this,e)).AddEffect=function(){var e=c.state.fieldIDArray;e.push(c.state.counter),c.setState({fieldIDArray:e,counter:c.state.counter+1}),c.props.addEffect()},c.RemoveEffect=function(e){var t=c.state.fieldIDArray;t.splice(e,1),c.setState({fieldIDArray:t}),c.props.removeEffect(e)},c.ComponentRenderer=function(e,t,a){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:c.props.wrapperClass||"section__MultiField--spacing",children:[Object(n.jsx)(a,{id:e,index:t}),Object(n.jsx)(B,{onClick:function(){return c.RemoveEffect(t)},children:"Remove"})]})},e)},c.render=function(){return Object(n.jsx)(n.Fragment,{children:c.props.children?r.a.cloneElement(c.props.children,{key:c.state.fieldIDArray.length,className:c.state.fieldIDArray.length>3?"section__MultiField--scrollView":"section__MultiField",array:c.state.fieldIDArray,remove:function(e){return Object(n.jsx)(B,{onClick:function(){return c.RemoveEffect(e)},children:"Remove"})},add:function(){return Object(n.jsx)(B,{onClick:function(){return c.AddEffect()},children:c.props.buttonText||"Add"})}}):Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[c.props.title||"",Object(n.jsx)(B,{onClick:function(){return c.AddEffect()},children:c.props.buttonText||"Add"})]}),Object(n.jsx)("div",{className:c.state.fieldIDArray.length>3?"section__MultiField--scrollView":"section__MultiField",children:c.state.fieldIDArray?c.state.fieldIDArray.map((function(e,t){return c.ComponentRenderer(e,t,c.props.component)})):null},c.state.fieldIDArray.length)]})})};var l,i=c.props.initialLength||0;return l=Array(i).fill(0).map((function(e,t){return t})),c.state={fieldIDArray:l,counter:l.length},c}return a}(r.a.Component),pe="weaponPassivesType",me="weaponPassivesValue",xe="weaponSubstatType",ve="weaponSubstatValue",ye=function(e){return Object(n.jsx)("div",{style:{overflowY:"scroll",maxHeight:"178px",border:"1px solid white"},children:Object(n.jsxs)("table",{className:"table__table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[["Type","Value"].map((function(e,t){return Object(n.jsx)("th",{className:"table__th",children:e},t)})),Object(n.jsxs)("th",{children:[" ",e.add()," "]})]})}),Object(n.jsx)("tbody",{children:e.array.map((function(t,a){return ge({id:t,index:a,remove:e.remove})}))})]})})},ge=function(e){var t=e.id,a=e.index,c=e.remove,r=Object(N.b)(),l=Object(N.c)(ae),i=le(r),o=re(r),s=[pe,me],u=se(s,o,l),d=se(s,i,l),j=Object(n.jsx)(n.Fragment,{children:I(l.weaponPassivesType[a],Object(n.jsx)(K,{onChange:u(me,a),defaultValue:l.weaponPassivesValue[a]}))});return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(L,{selectionName:pe,onChange:d(pe,a),array:v,defaultValue:l.weaponPassivesType[a]})}),Object(n.jsx)("td",{children:j}),Object(n.jsx)("td",{children:c(a)})]},t)},_e=function(){var e=Object(F.a)({},Object(N.c)(ae)),t=Object(N.b)(),a=le(t),c=re(t),r=[pe,me],l=e.weaponPassivesType?e.weaponPassivesType.length:0,i=se(r,c,e),o=ue(r,c,e),s=ue(r,a,e),u=[[o,pe],[s,me,0,i]],d=I(e.weaponSubstatType,Object(n.jsx)(H,{onChange:c(e.weaponSubstatType,e.weaponSubstatValue,ve),defaultValue:e.weaponSubstatValue}));return Object(n.jsxs)("div",{children:["Weapon Substat",Object(n.jsx)("table",{className:"table__table",children:Object(n.jsx)("tbody",{className:"table__td",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(L,{array:p,onChange:a(e.weaponSubstatType,e.weaponSubstatValue,xe),defaultValue:e.weaponSubstatType})}),Object(n.jsx)("td",{children:d})]})})}),"Weapon Skill",Object(n.jsx)(Oe,{initialLength:l,title:"Weapon Passive",buttonText:"Add Passive",component:ge,addEffect:fe(e,u),removeEffect:he(e,u),children:Object(n.jsx)(ye,{})})]})},Te=(a(41),function(){var e,t,a=Object(F.a)({},Object(N.c)(ae)),c=Object(N.b)(),r="ascensionStatType",l="ascensionStatValue",i=le(c),o=re(c),s=[r,l],u=ue(s,i,a),d=ue(s,o,a);return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:" Base Stats "}),Object(n.jsx)("table",{className:"table__table item__fillWidth",children:Object(n.jsx)("tbody",{children:x.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"table__td",children:e}),Object(n.jsx)("td",{className:"table__td",children:Object(n.jsx)(K,{name:e,className:"item__fillWidth",minValue:1,defaultValue:a[e],onChange:o(e,a[e],e)})})]},t)}))})}),Object(n.jsx)("table",{className:"table__table item__fillWidth",children:Object(n.jsxs)("tbody",{className:"table__td",children:[Object(n.jsx)("tr",{children:Object(n.jsx)("td",{children:"Ascension Stat"})}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{children:Object(n.jsx)(L,{array:m,onChange:u(r),defaultValue:a.ascensionStatType})})}),(e=a.ascensionStatType,t=a.ascensionStatValue,I(e,Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("tr",{children:Object(n.jsxs)("td",{className:" characterField__inputUpper",children:[Object(n.jsx)("div",{}),Object(n.jsx)(K,{className:"item__fillWidth",defaultValue:t,onChange:d(l)})]})})})))]})})]})}),Ne=(a(21),function(e){return Object(n.jsx)("input",{type:"checkbox",defaultChecked:e.defaultValue,onClick:function(t){e.onChange(!e.defaultValue)}},e.key)}),Se="BuffName",we="BuffType",Ve="BuffValue",Ae="BuffToggle",De=function(e){var t=e.id,a=e.index,c=e.remove,r=Object(N.b)(),l=oe(r),i=le(r),o=re(r),s=function(e){return function(t,a,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(r){var l={oldType:t};Array.isArray(r)?(l.oldValue=a*!r[c],l.newType=t,l.newValue=a*r[c]):(l.oldValue=a*!r[c],l.newType=t,l.newValue=a*r),Array.isArray(t)||e(D(l)),ie(e)(n)(r)}}}(r),u=[we,Ve],d=Object(F.a)(Object(F.a)({},Object(N.c)(ae)),Object(N.c)(C)),j=se(u,l,d),b=se(u,i,d),f=se(u,o,d),h=se(u,s,d);return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"table__td Name",children:Object(n.jsx)("input",{type:"text",defaultValue:d.BuffName[a],onBlur:function(e){return j(Se,a)(e.target.value)}})}),Object(n.jsx)("td",{className:"table__td Type",children:Object(n.jsx)(L,{array:T,onChange:b(we,a,d.BuffToggle[a]),defaultValue:d.BuffType[a]})}),Object(n.jsx)("td",{className:"table__td Value",children:Object(n.jsx)(K,{onChange:f(Ve,a,d.BuffToggle[a]),defaultValue:d.BuffValue[a]})}),Object(n.jsx)("td",{className:"table__td Toggle",children:Object(n.jsx)(Ne,{onChange:h(Ae,a),defaultValue:d.BuffToggle[a]})}),Object(n.jsx)("td",{className:"table__td",children:c(a)})]},t)},Me="BuffType",Ce="BuffValue",Ee=[Me,Ce],Pe=function(e){return Object(n.jsxs)("table",{className:"table__table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[["Buff Name","Buff","Buff Amount","Active?"].map((function(e,t){return Object(n.jsx)("th",{className:"table__th",children:e},t)})),Object(n.jsxs)("th",{children:[" ",e.add()," "]})]})}),Object(n.jsx)("tbody",{children:e.array.map((function(t,a){return De({id:t,index:a,remove:e.remove})}))})]})},Fe=function(){var e=Object(F.a)({},Object(N.c)(ae)),t=Object(N.b)(),a=le(t),c=re(t),r=e.BuffType?e.BuffType.length:0,l=se(Ee,c,e),i=ue(Ee,c,e),o=ue(Ee,a,e),s=[[o,"BuffName"],[i,Me],[o,Ce,0,l],[o,"BuffToggle",!0]];return Object(n.jsxs)("div",{children:["Buffs",Object(n.jsx)("div",{children:Object(n.jsx)(Oe,{initialLength:r,buttonText:"Add Buff",addEffect:fe(e,s),removeEffect:he(e,s),children:Object(n.jsx)(Pe,{})})})]})},Be=(a(42),function(e){e=Object(F.a)(Object(F.a)({},Object(N.c)(ae)),e);var t=Object(N.b)(),a=le(t),c=re(t),r="artifactTypes-".concat(e.ArtifactNum),l="artifactValues-".concat(e.ArtifactNum),i=[r,l],o=se(i,a,e),s=se(i,c,e),u=Object(n.jsx)(K,{name:"Value",onChange:s(l,0),defaultValue:e[l][0]});return Object(n.jsx)("table",{className:"table__table",children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"table__td",children:"Main Stat"}),Object(n.jsx)("td",{className:"table__td",children:Object(n.jsx)(L,{array:e.mainStats,onChange:o(r,0),defaultValue:e[r][0],hideable:!1})}),Object(n.jsx)("td",{className:"table__td",children:u})]}),Array(4).fill(0).map((function(t,a){return function(t){var a=I(e[r][t],Object(n.jsx)(K,{name:"Value",onChange:s(l,t),defaultValue:e[l][t]}));return Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{className:"table__td",children:["Line #",t]}),Object(n.jsx)("td",{className:"table__td",children:Object(n.jsx)(L,{array:_,onChange:o(r,t),defaultValue:e[r][t]},t)}),Object(n.jsx)("td",{className:"table__td",children:a})]},t)}(a+1)}))]})})}),Re="artifactTypes-5",ke="artifactValues-5",Le=function(){var e=Object(F.a)({},Object(N.c)(ae)),t=Object(N.b)(),a=le(t),c=re(t),r=e["artifactTypes-5"]?e["artifactTypes-5"].length:0,l=[Re,ke],i=se(l,c,e),o=se(l,a,e),s=ue(l,c,e),u=ue(l,a,e),d=[[s,Re],[u,ke,0,i]],j=function(t){return Object(n.jsx)("div",{style:{overflowY:"scroll",maxHeight:"194px",border:"1px solid white"},children:Object(n.jsxs)("table",{className:"table__table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[["Type","Value"].map((function(e,t){return Object(n.jsx)("th",{className:"table__th",children:e},t)})),Object(n.jsxs)("th",{children:[" ",t.add()," "]})]})}),Object(n.jsx)("tbody",{children:t.array.map((function(a,c){return function(t){var a=t.id,c=t.index,r=t.remove,l=Object(n.jsx)(n.Fragment,{children:I(e["artifactTypes-5"][c],Object(n.jsx)(H,{onChange:i(ke,c),defaultValue:e["artifactValues-5"][c]}))});return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(L,{selectionName:Re,onChange:o(Re,c),array:g,defaultValue:e["artifactTypes-5"][c]})}),Object(n.jsx)("td",{children:l}),Object(n.jsx)("td",{children:r(c)})]},a)}({id:a,index:c,remove:t.remove})}))})]})})};return Object(n.jsx)("div",{children:Object(n.jsx)(Oe,{initialLength:r,title:"Passive Set Effects",buttonText:"Add Passive",wrapperClass:"setEffect--multifield",addEffect:fe(e,d),removeEffect:he(e,d),children:Object(n.jsx)(j,{})})})},Ie=(a(43),["Flower of Life","Plume of Death","Sands of Eon","Goblet of Eonotherm","Circlet of Logos"]),Ke="Set Effect",He=[j,b,f,h,O],Ge=function(){var e=Object(c.useState)(Ie[0]),t=Object(k.a)(e,2),a=t[0],r=t[1],l=function(e,t){return a===e?t:Object(n.jsx)("div",{},e)},i=function(e){return Object(n.jsx)(B,{className:"artifact__buttons",disabled:a===e,onClick:function(){return r(e)},children:e},e)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("span",{className:"section__App--row",children:["Artifacts",He.map((function(e,t){return i(Ie[t])})),i(Ke)]}),He.map((function(e,t){var a={ArtifactNum:t,mainStats:He[t]};return l(Ie[t],Object(n.jsx)(Be,Object(F.a)({},a),t))})),l(Ke,Object(n.jsx)(Le,{}))]})})},Ue=function(e){return Math.trunc(e)},Je=function(e,t){return e>0&&e<91?t(e):0},We=function(e){return Ue(-29347e-10*Math.pow(e,5)+550672e-9*Math.pow(e,4)-.0332158793*Math.pow(e,3)+.9775531392*Math.pow(e,2)-4.2765576885*e+40.4647994435)},ze=function(e){return Ue(-22838e-10*Math.pow(e,5)+.0004328837*Math.pow(e,4)-.0266303723*Math.pow(e,3)+.797170016*Math.pow(e,2)-4.1553061404*e+34.6845277878)},Ye=function(e){return Ue(-16456e-10*Math.pow(e,5)+.0003056403*Math.pow(e,4)-.0180630927*Math.pow(e,3)+.5286068156*Math.pow(e,2)-1.9083528517*e+23.197198489)},$e=function(e){return Ue(-7.316e-7*Math.pow(e,5)+.0001424157*Math.pow(e,4)-.0088061232*Math.pow(e,3)+.273018442*Math.pow(e,2)-1.2692979299*e+13.1641217855)},qe=function(e){return Ue(-6.815e-7*Math.pow(e,5)+.0001257728*Math.pow(e,4)-.0073286198*Math.pow(e,3)+.2100526539*Math.pow(e,2)-.5937899697*e+8.4614696213)},Qe=function(e){return Je(e,We)},Xe=function(e){return Je(e,Ye)},Ze=function(e){return Je(e,qe)},et=function(e){return Je(e,ze)},tt=function(e){return function(e){return Ue(9e-8*Math.pow(e,3)-2767e-7*Math.pow(e,2)+.46647865*e+.19667643)}(e)},at=function(e){return function(e){return Ue(4e-8*Math.pow(e,3)-11561e-8*Math.pow(e,2)+.19487198*e+.07024967)}(e)},nt=function(e){return tt(e)},ct=function(e){return at(e)},rt="TalentName",lt="DamageType",it="ReactionMultipliers",ot="DamageValue",st=function(e,t){return e>t?e-t:-t/2+(e<0?e:0)},ut=function(e,t,a){return(100+e)/((100+t)*(1-a/100||0)+(100+e))},dt=function(e){var t,a=e.id,c=e.index,r=e.remove,l=Object(N.b)(),i=oe(l),s=oe(l),u=[lt,ot],d=Object(F.a)(Object(F.a)({},Object(N.c)(ae)),Object(N.c)(C)),j=se(u,s,d),b=se(u,i,d),f=void 0;if(z.includes(d.DamageType[c])){var h=function(e,t){var a=e.DamageType[t],n=e.DamageValue[t];if("None"===a||0===n)return[null,null];var c=ct(e.totalEM),r=e.totalATK,l=e.totalCritDMG,i={None:1,"Pyro Vaporize/Cryo Melt":Ue(1.5*(1+c/100)),"Hydro Vaporize/Pyro Melt":Ue(2*(1+c/100))}[e.ReactionMultipliers[t]],s=function(){for(var e=0,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var c in a)e+=u(a[c]);return e},u=function(t){return e[t]||0},d={"Phys. Normal":100+s(o.Normal,o.Total,o.phys),"Phys. Charge":100+s(o.Charge,o.Total,o.phys),"Ele. Normal":100+s(o.Normal,o.Total,o.ele),"Ele. Charge":100+s(o.Charge,o.Total,o.ele),"Ele. Skill":100+s(o.Skill,o.Total,o.ele),"Ele. Burst":100+s(o.Burst,o.Total,o.ele)},j=ut(e.LVL,Math.max(1,e.monsterLevelStr),e.defReduction),b=1-st(e.monsterResStr,e.resReduction)/100,f=Math.floor(r*(n/100)*(d[a]/100)*b*j*i);return[f,Math.floor(f*(1+l/100))]}(d,c),O=Object(k.a)(h,2);t=O[0],f=O[1]}else Y.includes(d.DamageType[c])&&(t=function(e,t){var a,n=nt(e.totalEM),c=e.LVL,r={Swirl:Ue((a=c,Je(a,$e)*(1+n/100+(e[o.Swirl]||0)/100))),Shattered:Ue(et(c)*(1+n/100+(e[o.Shattered]||0)/100)),Overload:Ue(Qe(c)*(1+n/100+(e[o.Overload]||0)/100)),Electrocharge:Ue(Xe(c)*(1+n/100+(e[o.Eletrocharge]||0)/100)),Superconduct:Ue(Ze(c)*(1+n/100+(e[o.Superconduct]||0)/100))},l=e.DamageType[t],i=1-st(e.monsterResStr,e.resReduction)/100;return Math.floor(r[l]*i)}(d,c));return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"table__td",children:z.includes(d.DamageType[c])?Object(n.jsx)("input",{type:"text",defaultValue:d.TalentName[c],onBlur:function(e){return j(rt,c)(e.target.value)}}):Object(n.jsx)(n.Fragment,{})}),Object(n.jsx)("td",{className:"table__td",children:Object(n.jsx)(L,{array:z.concat(Y),onChange:b(lt,c),defaultValue:d.DamageType[c]})}),Object(n.jsx)("td",{className:"table__td",children:z.includes(d.DamageType[c])?Object(n.jsx)(K,{onChange:j(ot,c),defaultValue:d.DamageValue[c]}):Object(n.jsx)(n.Fragment,{})}),Object(n.jsx)("td",{className:"table__td",children:z.includes(d.DamageType[c])?Object(n.jsx)(L,{array:["None","Pyro Vaporize/Cryo Melt","Hydro Vaporize/Pyro Melt"],onChange:b(it,c),defaultValue:d.ReactionMultipliers[c]}):Object(n.jsx)(n.Fragment,{})}),Object(n.jsx)("td",{className:"table__td",children:t?t.toLocaleString():""}),Object(n.jsx)("td",{className:"table__td",children:f?f.toLocaleString():""}),Object(n.jsx)("td",{className:"table__td",children:r(c)})]},a)},jt=(a(44),"DamageType"),bt="DamageValue",ft="monsterLevelStr",ht="monsterResStr",Ot="resReduction",pt="defReduction",mt=function(){var e=Object(F.a)(Object(F.a)({},Object(N.c)(ae)),Object(N.c)(C)),t=Object(N.b)(),a=ie(t),c=oe(t),r=oe(t),l=[jt,bt],i=e.DamageType?e.DamageType.length:0,o=ue(l,r,e),s=ue(l,c,e),u=[[s,"TalentName"],[o,jt,"None"],[s,bt],[s,"ReactionMultipliers","None"]],d=function(e){return Object(n.jsxs)("table",{className:"table__table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[["Talent","Type","Damage Multiplier","Reaction Multiplier","Normal Hit","Critical Hit"].map((function(e,t){return Object(n.jsx)("th",{className:"table__th",children:e},t)})),Object(n.jsxs)("th",{children:[" ",e.add()," "]})]})}),Object(n.jsx)("tbody",{children:e.array.map((function(t,a){return dt({id:t,index:a,remove:e.remove})}))})]})},j={"Player Level":e.LVL,"Monster Level":e[ft],"Monster Resistance":e[ht]},b=Object.keys(j).filter((function(e){return void 0===j[e]})),f=st(e[ht],e[Ot]),h=ut(e.LVL,Math.max(1,e[ft]),e[pt]),O=[{minValue:1},{},{},{}],p=[ft,ht,Ot,pt].map((function(t,c){return Object(n.jsx)("td",{className:"table__td",children:Object(n.jsx)(K,Object(F.a)({onChange:a(t),defaultValue:e[t]},O[c]))},c)}));return Object(n.jsxs)("div",{children:[Object(n.jsxs)("table",{className:"table__table",children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:["Monster Lvl","Monster Res(%)","Res Reduction(%)","Def Reduction(%)","Total Res","Monster Defense"].map((function(e,t){return Object(n.jsx)("th",{className:"table__th",children:e},t)}))})}),Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[p,Object(n.jsxs)("td",{className:"table__td",children:[f,"%"]}),Object(n.jsxs)("td",{className:"table__td",children:[Ue(100*(1-h)),"%"]})]})})]}),b.length>0?Object(n.jsxs)("div",{children:[" Missing : ","".concat(b.join())," "]}):Object(n.jsx)(n.Fragment,{}),Object(n.jsx)(Oe,{initialLength:i,addEffect:fe(e,u),removeEffect:he(e,u),children:Object(n.jsx)(d,{})})]})},xt=(a(45),a(48)),vt="@allCharacters",yt=Object(S.b)({name:"characters",initialState:function(){var e=localStorage.getItem(vt);if(null===e){var t={names:["Traveler"],UID:[Object(xt.a)()]};return localStorage.setItem(vt,JSON.stringify(t)),t}try{return JSON.parse(e)}catch(a){console.log("Could not read from localstorage")}}(),reducers:{addNewCharacter:function(e,t){var a=t.payload,n=e.names,c=e.UID;n.push(a.name||"New Character"),c.push(Object(xt.a)()),e.names=n,e.UID=c,localStorage.setItem(vt,JSON.stringify({names:n,UID:c}))},renameCharacter:function(e,t){var a=t.payload;e.names[a.index]=a.name,localStorage.setItem(vt,JSON.stringify({names:e.names,UID:e.UID}))},deleteCharacter:function(e,t){var a=t.payload,n=Array.from(e.names),c=Array.from(e.UID);n.splice(a.index,1),c.splice(a.index,1),e.names=n,e.UID=c,localStorage.setItem(vt,JSON.stringify({names:n,UID:c}))}}}),gt=yt.actions,_t=gt.addNewCharacter,Tt=gt.renameCharacter,Nt=gt.deleteCharacter,St=function(e){return e.characters},wt=yt.reducer,Vt="Stats",At=function(){var e,t=Object(F.a)({},Object(N.c)(ae)),a=Object(N.b)(),r=t.view||Vt,l=(e={},Object(R.a)(e,Vt,Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"section__mainBody--row",children:[Object(n.jsx)(Te,{}),Object(n.jsx)(_e,{}),Object(n.jsx)(Ge,{})]}),Object(n.jsx)(Fe,{})]})),Object(R.a)(e,"Damage Calc",Object(n.jsx)(mt,{})),Object(R.a)(e,"Export",function(){var e=Object(F.a)({},Object(N.c)(ae)),t=Object(F.a)({},Object(N.c)(St)),a=Object(N.b)(),r=Object(c.useState)(""),l=Object(k.a)(r,2),i=l[0],o=l[1],s=Object(c.useState)("Delete Sheet"),u=Object(k.a)(s,2),d=u[0],j=u[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)("textarea",{className:"body__textarea",onChange:function(e){o(e.target.value)},defaultValue:i},e.currentSheet),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)(B,{onClick:function(){try{var t=JSON.parse(i);t.currentSheet=e.currentSheet,t.view=Vt,a(ee(t)),a(M(t))}catch(n){console.log(n)}},children:"Import"})}),Object(n.jsx)("div",{children:Object(n.jsx)(B,{onClick:function(){e.currentSheet=void 0,e.view=void 0,e.index=void 0,o(JSON.stringify(e))},children:"Export"})})]})]}),Object(n.jsx)(B,{className:"Delete",onBlur:function(){j("Delete Sheet")},onClick:function(){if(0===d.localeCompare("Delete Sheet"))j("Confirm?");else{var n=e.index,c=t.UID[n];a(ee({currentSheet:void 0,index:void 0})),a(Nt({index:n})),localStorage.removeItem(c)}},children:d})]})}()),e);return Object(n.jsx)("div",{className:"section__mainBody",children:Object(n.jsx)("div",{className:"section__mainBody",children:Object.keys(l).map((function(e){return 0===r.localeCompare(e)?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"text",defaultValue:t.currentSheet,onBlur:function(e){a(Tt({index:t.index,name:e.target.value})),a(ee({currentSheet:e.target.value}))}}),Object.keys(l).map((function(e){return Object(n.jsx)(B,{disabled:t.view===e,onClick:function(){return function(e,t){e(ee({view:t}))}(a,e)},children:e},e)}))]}),l[e]]},e):null}))})},t.currentSheet)},Dt=a(10),Mt=function(e){Object(je.a)(a,e);var t=Object(be.a)(a);function a(){var e;Object(de.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).beforeUnload=function(){$(e.props.uid,JSON.stringify(e.props.sheet))},e.componentDidMount=function(){window.addEventListener("beforeunload",e.beforeUnload.bind(Object(Dt.a)(e)))},e.componentWillUnmount=function(){window.removeEventListener("beforeunload",e.beforeUnload.bind(Object(Dt.a)(e)))},e.render=function(){return null},e}return a}(r.a.Component),Ct=function(){var e=Object(N.b)(),t=Object(N.c)(ae),a=Object(N.c)(St),r=a.UID[t.index];Object(c.useEffect)((function(){window.addEventListener("unload",$),l(e,0)}),[]);var l=function(e,n){$(r,JSON.stringify(t));var c=q(a.UID[n]);c.currentSheet=a.names[n],c.index=n,e(te(c)),e(M(c))};return Object(n.jsxs)("div",{className:"section__App--row",children:[Object(n.jsx)(Mt,{sheet:t,uid:r}),Object(n.jsx)("div",{className:"section__navbar",children:Object(n.jsxs)("div",{className:"section__App--column",children:[a.names.map((function(c,r){return Object(n.jsx)(B,{style:{width:"-webkit-fill-available"},disabled:t.index===c,onClick:function(){return l(e,r)},children:c},a.UID[r])})),Object(n.jsx)(B,{onClick:function(){e(_t({}))},children:"Add New Sheet"})]})}),t.currentSheet?Object(n.jsxs)("div",{className:"section__mainBody section__App--row",children:[Object(n.jsx)(At,{}),Object(n.jsx)(P,{})]}):Object(n.jsx)(n.Fragment,{children:" "})]})};var Et=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)(Ct,{})})})},Pt=Object(S.a)({reducer:{characters:wt,sheet:ne,stats:E}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(N.a,{store:Pt,children:Object(n.jsx)(Et,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.142a4f43.chunk.js.map